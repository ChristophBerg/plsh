PL/sh Procedural Language Handler for PostgreSQL
================================================

PL/sh is a procedural language handler for PostgreSQL that allows you
to write stored procedures in a shell of your choice.  For example,

CREATE FUNCTION concat(text, text) RETURNS text AS '
#!/bin/sh
echo "$1$2"
' LANGUAGE plsh;

The first line must be a #!-style line that indicates the shell to
use.  The rest of the function body will be executed by that shell in
a separate process.  The arguments are available as $1, $2, etc., as
usual.  (This is the shell's syntax. If your shell uses something
different then that's what you need to use.)  The return value will
become what is printed to the standard output, with a newline
stripped.  If nothing is printed, NULL is returned.  If anything is
printed to the standard error, then the function aborts with an error
and the message is printed.  If the script does not exit with status 0
then an error is raised as well.

The shell script can do anything you want, but you can't access the
database.  Trigger functions are also possible, but they can't change
the rows.  Needless to say, this language should not be declared as
TRUSTED.

Refer to the INSTALL file for installation instructions and COPYING
for the license.  The distribution also contains test.sql which
contains a simplistic demonstration of the functionality.

I'm interested if anyone is using this. 


Peter Eisentraut
<peter_e@gmx.net>
